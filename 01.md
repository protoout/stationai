# Manusで旅行記録アプリの雛形を作成し、スマホで動かす

まずはManusを利用して、旅行記録アプリの雛形となるような機能の一部分を作成、スマートフォン上で動作させるところまで進めます。 

## 1 このパートでできるアプリと到達目標

日時とメモ、写真を残せる機能を持ったアプリを作成し、作成したアプリを動作させます。

> <img src="https://i.gyazo.com/a1a54b15da6c6d621f9dad5077999c9d.png" alt="gyazo.jpg" width="150px" />

> [!NOTE]
> AIエージェントに実装させる場合、どうしてもアウトプットに多少の差異が発生します。  
> ですので、目指している`期待される結果`をイメージして進めていただくことで、成功・失敗の判断がしやすくなりますので、意識して進めましょう。

## 2 ハンズオン

### 2-1. Manusでモバイルアプリの雛形を作成

`1.` Manusにアクセスし、AIに指示文（プロンプト）を与えます。

- [こちら](https://manus.im/)からManusにアクセスします

左上のプランがLiteになっていることを確認しましょう。無料だとLite版が利用でき、課金すると通常版やMax版などの上位プランが利用できます。

> <img src="https://i.gyazo.com/9cd111386b36437e93d7c78ffb64ef6d.png" width="450px" />

- チャット欄に下記文章をコピーペーストし、`Develop apps（アプリを開発する）`のボタンを押します
  - 英語か日本語かは人によって異なると思うので適宜読み替えましょう。

> <img src="https://i.gyazo.com/2b883b4e9539b40cb2de715f30b49483.png" alt="gyazo.png" width="450px" />

- 以下のプロンプトをコピペしましょう。折り畳まれているのでクリックして開いてください。

<details>
<summary>Manus向けのプロンプト（折りたたまれてます）</summary>

```md
以下の要件を満たすアプリを実装してください。

## 目的
Web（Expo Web）とモバイルの両方で動作する
「チェックイン・フィールドノート」アプリの最小構成を作成する。

## 機能要件
- チェックイン作成画面
  - メモ（テキスト入力）
  - チェックイン日時は自動付与
  - 登録後に再度stateを更新し、登録した内容を画面に反映
  - 写真の投稿
- チェックイン一覧画面
  - 日時とメモの一覧表示
  - 写真の一覧表示
- チェックイン詳細画面
  - 日時とメモを表示


## 技術要件
- Expo（Managed Workflow）を使用する
- Expo Router を用いて画面遷移を構成する
- 状態管理は React 標準を使用する
- データは端末ローカルに保存する（AsyncStorage）

- check_inを登録後、登録する関数の中でstateにcheck_inを追加して画面更新を行う（useEffectで管理しないこと）


### テスト
- 入力 -> 登録 -> 画面反映までのE2Eテストを実行する

## 制約
- Webで動作確認できることを最優先とする
- UIはシンプルにすること

## 成果物
- ディレクトリ構成
- 主要コンポーネントの実装コード
- 起動および動作確認手順
```

</details>

次の画像のような状態で`↑`ボタンを押す、もしくは`Enter`を押すことで開発がスタートします

> <img src="https://i.gyazo.com/3159501d7f9cc2d7d9d4e01b2cee724f.png" alt="gyazo.png" width="450px" />

下記画像のように、有料プランへのアップデートを推奨される場合もありますが特にこだわりがなければ`Try lite anyway`を選択して進めましょう。

> <img src="https://i.gyazo.com/ebe639ff76438d99bb28da21a0fe1000.png" alt="gyazo.png" width="450px" />

開発が始まると、画像のようにManusが手順を踏んで実装を進めます

> <img src="https://i.gyazo.com/7472b33522e77d99ebf44ff573da4a74.png" alt="gyazo.png" width="450px" />
>
> todoとしてやるべきことをタスク化している様子

特にエラーなどなければ、5~6分程度で実装が完了します。

※少し時間がかかるので、状況を見て休憩を挟んだりします。

### 2-2. 実装されたアプリをManus（ブラウザ）内で試す

まずはアプリを触ってみましょう。
「日時を取得してメモを残せる機能」や「写真を投稿する機能」実装されていれば成功です。

> <img src="https://i.gyazo.com/ebb8c0e0f82a9b79ecd04acdf4d4b89d.png" alt="gyazo.png" width="450px" />
> 
> ※もしアプリが表示されていない場合は、`➡️Preview`のボタンを押すと表示されます。 

生成AIによるアプリ生成なので、見た目は人によって異なります。

今回例で作成したアプリは画像が登録がこのままできたので、このWeb画面からボタンを押したら画像登録もできました。

> <img src="https://i.gyazo.com/f4886af8bf5b5a264d5f8e1780d3dd9c.png" alt="gyazo.png" width="450px" />

### 2-3. 実装されたアプリをExpo Goでスマホで試す

Expo Goを使うことで実際にスマートフォン上で作成したアプリを動かして試せます。

Expo Goで動かすための二次元バーコードをプレビュー画面の右上から表示させましょう。

> <img src="https://i.gyazo.com/72dbeda1f8fe21aaa1b438f1de22821d.gif" width="500px" />

このQRコードをスマートフォンから読み込みます。

> <img src="https://i.gyazo.com/5f1580ea94d221d6a3f66139e66ddaf2.png" alt="gyazo.png" width="450px" />

#### 2-3-1. 二次元バーコードの読み込み

- ご自身のスマートフォンから二次元バーコードをスキャンしてください

> <img src="https://i.gyazo.com/590f272b5728ffe4e1b44ca9bb487e61.jpg" alt="gyazo.jpg" width="200px" />

- `Expo Goで開く`のボタンを押してください

> [!WARNING]
> 極稀に下記写真のようなエラーが発生します。  
> その場合、Expo Goを一度スマホからタスクキルし、Manus側も更新。
> 再度、二次元バーコードをスキャンすることで開けました。  
> <img src="https://i.gyazo.com/b4d165d1cf2a546e170ee304c2c9474a.png" alt="gyazo.png" width="200px" />

#### 2-3-2.  Expo Go上で動作確認

- Expo Goで開いて30秒程度待つと、ブラウザで確認できていた画面と同様の画面が開きます

> <img src="https://i.gyazo.com/26742d8121b4a22865f6b869bc788627.jpg" alt="gyazo.jpg" width="200px" />
> スクショが別のアプリです。すみません。

スマホ側でセットアップが進みます

> <img src="https://i.gyazo.com/a1a54b15da6c6d621f9dad5077999c9d.png" alt="gyazo.jpg" width="200px" />

スマホ側で同様のアプリが表示されれば成功です！
お疲れ様でした！

## 3. Tips

Tipsは[こちらのページ](./02-tips.md)にあるので気になる方は読んで理解を深めましょう。

## 4. 応用チャレンジ

- 早く終わった人は"簡単な"Manusに追加指示を出してみよう。
  - 複雑なことを指示して止まっちゃうとかが怖いので一旦簡単な指示でお願いします。
    - 例: 色を暖色系にしたい。タイトルを変えたい。 など

- もしエラーが出た人はエラー内容をManusに送ってエラーを修正してもらいましょう。

## 5. 本セッションのまとめ

本章では`Manus`と`Expo Go`というサービスを利用してモバイルアプリのベースを作成して動かすところまでを実行しました。

2つのサービスを利用したため混乱するところもあったかもしれませんが、それぞれの役割は以下のとおりです。

- Manus：自律的に動作するAIエージェント
  - モバイルアプリの雛形からメモを作成・登録するところまでを計画
  - 計画に従って実装。動作するところまで作成
- Expo Go：モバイルアプリを簡単に実装するための仕組み
  - Manusが実装したアプリをスマホのアプリで読み込み
  - スマホ上で実際に動作させるところを実行

---

このページの内容は以上です。  
[次ページ](03.md)  
[◀ 目次ページ](./readme.md)
