# 4. Vibe Cordingでアプリに機能を追加する（30 min / 110 min）

Manusを利用して作成したアプリの雛形を、GitHub Codespaces上で改変します。  
Manusのフリープランでは利用できるトークン量に限りがあるため、トークン利用制限が比較的緩いAIコーディングエージェント  
`Codex IDE extension（以下、長いのでCodex IDE）`を利用します。  

## 4.1. このセクションの目標・期待される結果

> 実際の天気データを反映した天気予報アプリの実装

- Codex IDEでアプリを改変。実際の天気データを取得するアプリが実装できる
- GitHub Codespacesから二次元バーコードを発行し、Expo Goで動かすことができる

## 4.2. ハンズオン

### 4.2.1. Vibe Cording｜天気データの取得

#### 4.2.1.1. `Chat`での計画立案

- （todo.mdの更新）

#### 4.2.1.2. `Agent`での実装

### 4.2.2. Expoでの確認

- （npx expo start --tunnel）

#### 練習3. `（ctrl + c）`: サーバー停止

サーバープログラムが起動していると、そのターミナルは次のコマンドが入力できません。

また、**AIがアプリケーションを作成してもサーバーの再起動をしないとアプリケーションが更新されない場合もあります**。

これらを踏まえ、起動したサーバーを一度停止する必要があります。

ターミナルエリアをクリックして選択している状態で、`コントロールキー+C`でサーバーを停止できます。

> コントロールキーとキーボードのCを同時押しです。
>
> <img src="https://i.gyazo.com/7d071f5fac766bd721d4b556dcbf83fc.gif" alt="gyazo.png" width="450px" />

停止するとまたlsなど別のコマンドが入力できます。

再度、`npx expo start --tunnel`コマンドを実行してサーバー起動 => `ctrl`+`c`でサーバー停止を繰り返して操作に慣れましょう。

## 4.3. チャレンジ課題｜選択実装（20 min / 120 min）

- プラス1機能を選択実装
  - 現在地ベースの自動ロケーション検出
  - 地図のUIから表示地点を選択
  - 時間別/日別のグラフ表示
  - その他好きな機能を実装
- PC上での一時確認について（`pnpm dev:metro`で発行されるURLにアクセス）

> [!TIP]
> 更新する範囲を制限する（AIにいきなり大胆に変更させない）

大胆には変更しないようにしましょう

> [!TIP]
> 更新したら必ず確認する

一見正しく実装しているように見えても嘘をつく場合があります

## 4.4. Tips

### 4.4.1. APIと天気API（open_meteo）（TBD）

- 外部からデータを取得する手段としてのAPIの説明
- 生成AIに聞いても出てこない内容
  - リアルタイム性が重要な内容 ← 今回はこれ
  - 世間一般的に知られていない内容

### 4.4.2. pnpm?

今は試せないのでこのタイミングでは紹介だけです。

後半でAIから指示が出るかもしれないコマンドです。
指示があれば実施しないといけないですが...出ないことを祈りつつよく分からなくなったらスタッフを呼びましょう。

- `npm start`: プログラムを起動する際によく利用します。登録されているコマンドを実行します
- `npm init`: プロジェクトの初期化
- `npm install`: 必要なライブラリをインストール
- `cd xxx`: `xxxフォルダ`に移動

## 4.5. 本セッションのまとめ

本セッションではGitHub Codespacesを利用したVibe Cordingを体験してみました。  
また、APIという仕組みを利用してリアルタイムなデータを取得することも実践しました。

---

このページの内容は以上です。  
[次ページ](04.md)  
[◀ 目次ページ](./readme.md)
