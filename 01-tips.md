# Tips: Manusや生成AI

- 実装本編と関連するものの、難易度や時間の都合上省略している内容を記載しています
- お時間が余った方は読んでみてください

## 1. Markdown形式

- Markdown（マークダウン）形式は、文章を読みやすく書きつつ、簡単な記号で構造や装飾を表現できる記法です
- エンジニアのドキュメント、README、ブログ、メモなどで広く使われています
- 生成AIに指示を出す際のプロンプトや、生成AIが生成する文章でも利用されています

> [!NOTE]
> 本資料`GitHub`もMarkdown形式で記述しています。段落構造、文字の装飾、リンクなどを簡単に表現できるので、慣れて活用してみましょう。

<details><summary>Markdown形式の例</summary>

## 1. 見出し（Heading）

`#` の数で見出しレベルを表します。

```markdown
# 見出し1
## 見出し2
### 見出し3
```

表示例：

# 見出し1

## 見出し2

### 見出し3

---

## 2. 段落・改行

- 空行で段落が分かれます
- 改行だけでは段落は変わりません

```markdown
これは1つ目の段落です。

これは2つ目の段落です。
```

---

## 3. 強調（太字・斜体）

```markdown
*斜体*
**太字**
***太字＋斜体***
```

表示例：
*斜体*
**太字**
***太字＋斜体***

---

## 4. 箇条書き（リスト）

### 箇条書き（順不同）

```markdown
- りんご
- みかん
  - 小みかん
```

- りんご
- みかん

  - 小みかん

### 番号付きリスト

```markdown
1. 手順1
2. 手順2
3. 手順3
```

1. 手順1
2. 手順2
3. 手順3

---

## 5. リンク

```markdown
[Google](https://www.google.com)
```

表示例：
[Google](https://www.google.com)

---

## 6. 画像

```markdown
![代替テキスト](画像のURL)
```

例：

```markdown
![ロゴ](https://example.com/logo.png)
```

---

## 7. コード表記

### インラインコード

```markdown
`const x = 1`
```

表示例：
`const x = 1`

### コードブロック

````markdown
```ts
const message = "Hello Markdown";
```
````

表示例：

```ts
const message = "Hello Markdown";
```

---

## 8. 引用

```markdown
> これは引用です
```

> これは引用です

---

## 9. 区切り線（水平線）

```markdown
---
```

---

## 10. チェックリスト（ToDo）

```markdown
- [x] 完了
- [ ] 未完了
```

- [x] 完了
- [ ] 未完了

---

## 11. 表（テーブル）

```markdown
| 名前 | 年齢 |
|------|------|
| 太郎 | 20 |
| 花子 | 22 |
```

| 名前 | 年齢 |
| -- | -- |
| 太郎 | 20 |
| 花子 | 22 |

</details>

## 2 バイブコーディングを始める前の注意点

今回はManusを利用してバイブコーディングをスタートしましたが、他のAIコーディングエージェントで実装する場合に必要となる作業を肩代わりしてくれています。  
特に、Gemini CLIのような白紙からスタートするタイプのエージェントを利用する場合、注意した方が良いポイントをまとめています。

> [!TIP]
> **計画を立ててから実装を始める**

- 一般的なプログラミングでは、いきなり見た目や機能を実装し始めるのではなく、**見た目と機能の全体像に関して見通しを立ててから開発に入ることが重要**です。
- **AIコーディングエージェントを利用した実装でもそれは例外ではありません**。必ず計画を立ててから実装することが必要となります。
- **Manusの場合、実装に入る前に`design.md`, `todo.md`というファイルを作成**することで計画を立てています。

> <img src="https://i.gyazo.com/e4ebe13f1c73ae7a115ef9d4ba893e9c.png" alt="gyazo.png" width="450px" />

例：

実際にManusが作成した`design.md`, `todo.md`の例を下記に載せています

- [design.md](./samples/sample_design.md)
- [todo.md](./samples/sample_todo.md)

> [!TIP]
> **白紙の状態から始めない**

- 実際の開発において、白紙の状態から始めてプログラムを書き始めることはほぼありません
- モバイルアプリにせよ、Webアプリケーションにせよ、何らかの雛形（フレームワーク、ライブラリなどと呼んでいます。フレームワークは全部いり、ライブラリはパーツなイメージ）を準備して、その雛形を改変する形で実装します
  - カレーを作る際、カレー粉から一からつくらずルーやレトルトを買ってきて作るのに近いです。
  - ルーやカット野菜を利用するのがライブラリ、レトルトを買ってきてスパイスやライスにこだわったり、追加の具を入れるのがフレームワークのイメージ
  - **なれていない人が1から作るより、むしろ早く美味しくできる**のもイメージに近いです
- AIは、この雛形を生成するのがあまり上手ではありません。フレームワークは日々更新されるのに対し、AIの知識は学習された地点で止まっているためです。

> 今回のモバイルアプリの例：  
> プロンプトにも入力した`React Native`, `Expo`というフレームワークで実装しています。
> これを準備するためには、ターミナルに以下入力して実行することで作成されます。

```sh
npx create-expo-app my-expo-app
```

- もちろん、**フレームワークやライブラリを利用してアプリの雛形を準備するのも、ある程度の知識が必要**です。本ハンズオンではその立ち上げ部分をManusに手伝ってもらっています
- Manusは内部的に類似したコマンドを実行するか、すでに保持しているテンプレートから雛形を立ち上げることで、安定して作成できるようにしています。
- プロンプトで念の為、`アプリはReact NativeとExpoの構成で実装してください。`という文言を入れていますが、`Develop apps`をonにすれば再現性高く実行できます

## 3. Manusでのバイブコーディングのガードレール

AIに実装をさせる以上、どうしても差異が発生することは避けられません。とはいえ、**絶対に外してほしくない要件**というものも存在しており、そのためのガードレールを敷くという考え方がバイブコーディングを本格的に開発に利用している方々には一般的になってきました。  
今回利用しているのが**テストを行う**というやり方です。

プロンプトに記載してある文言

```md
### テスト
- 入力 -> 登録 -> 画面反映までのE2Eテストを実行する
```

この部分で、ManusのAI自身に正しい挙動を取ることを検証させています。

> [!CAUTION]
> tbd 画像撮り直し。  
> このように、Manus側でアプリケーションを操作し、想定される挙動を取ることを確認。  
> 想定外の挙動をとった時は原因を推定し、修正するというタスクを課しています。  
> 本来、このようにアプリを自動操作し、挙動を検証する手順を整えるのは大変なのですが、Manusはよしなに実施してくれるのでUIの実装という面では強みがあるといえます。

実際に、何度か当該アプリケーションを実装すると、メモを登録しても画面に反映しないという不具合が発生していました。  
どうしても外したくない要件については、テストを実行してみるのも良い選択と言えます。

## 4. Manusの消費トークンとAIコーディングエージェント

Manusに限らず、AIコーディングエージェントは`トークン`と呼ばれる通貨のようなものを消費して、アプリの生成などのタスクを実行します。

> <img src="https://i.gyazo.com/9f182f1caa9bc0c189fe56077904452d.png" alt="gyazo.png" width="450px" />
>
> 参考として、今回の実装に消費したトークン。  
> Manusの場合、おおよそ1つの出力で150 ~ 200程度消費。  
> 実装に手間取った場合は、さらに多くのトークンを消費する場合もあります。

また、Manusのフリープランでは、初期に1,000トークン。月間1,500までのデイリートークンという枠が決まっています。  
そのため、Manusで無料のまま際限なくバイブコーディングができるわけではありません。